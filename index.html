<script type="module">
	import toast from './index.js';

	async function test1() {
		const {snackbar, closePromise} = toast('hey, folks!');
		// setTimeout(() => snackbar.close(), 500);
		try {
			await closePromise;
			console.log('noice');
		} catch {
			console.log('closed prematuraly');
		}
	}

	function test2() {
		const i = setInterval(() => {
			test1();
		}, 1000);
		setTimeout(() => clearInterval(i), 4000);
	}

	setTimeout(async () => {
		// test1();
		test2();
	}, 1000);
</script>
<body></body>
